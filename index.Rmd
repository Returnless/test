---
title: "Tilixixi"
#author: "☁️B站罗云熙首页拯救计划☁️"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: scroll
    theme: bootstrap
    logo: BilixixiLogo.png
    navbar:
       - { title: "About",  href: "https://example.com/about", align: left }
---

<!-- <style> -->

<!-- body { -->
<!--   padding-top:0px -->
<!-- } -->

<!-- .navbar{ -->
<!--   visibility: hidden -->
<!-- } -->

<!-- </style> -->


```{r setup, include=FALSE}
library(flexdashboard)
library(DT)
library(stringr)
source("Bilixixi.R")
```



Column {data-width=200}
-----------------------------------------------------------------------



Column {data-width=650}
-----------------------------------------------------------------------


<center>

<h1> 哔嘿熙熙动画!</h1>
<h4>☁️B站罗云熙首页拯救计划☁️</h4>

[支持排序·筛选·搜索功能 | 已人工屏蔽部分路透 | 支持8月16日后上线作品]("/help.html")

</center>



```{r vie}
# vie[,c("titlelink","lengthnum","viewnum","text","upload","uplink")]

#htmltools::tags$script(src = "myselect.js")
#htmltools::tags$script(src = "myselect copy.js")
options(width = 10000)

x=datatable(vie, rownames = FALSE,filter = 'top',plugins =list('select'),
            style ="bootstrap",#class="hover",
          #extensions = 'FixedColumns',
#####################

          options = list(
          # initComplete = JS(
          #   "function(settings, json) {
          #   $(window).resize(function() {
          #   oTable.fnAdjustColumnSizing();
          #   })}"
          # ),
                        #sPaginationType = list('listbox'),
                        pagingType="numbers",
                        pageLength = 25,
                        language = list(search = '搜索:',
                        lengthMenu='每页显示 _MENU_ 个视频',
                        zeroRecords='什么也没找到，换个关键词试试',
                        info='现在第 _PAGE_ 页 共 _PAGES_ 页',
                        infoEmpty='没有可显示的页面',
                        infoFiltered='(从 _MAX_ 项中搜索)',
                        paginate=list(previous='上一页',
                        'next'='下一页',
                        first='第一页',
                        last='最后一页')),
                        
                         
                        columnDefs = list(
                        list(targets=1,
                        render = JS(
                     "function(data, type, row, meta) {",
                     "return type === 'display'?",
                     "'<span title=\"'+data +'\">'+Math.floor(data/60) + '分'+Math.floor(data%60)+'秒</span>' : data;",
                     "}")
              ),
              list(targets=2,
                   render = JS(
                     "function(data, type, row, meta) {",
                     "return type === 'display' && data>=10000 ?",
                     "'<span title=\"' + data + '\">'+Math.floor(data/1000)/10+'万</span>' : data;",
                     "}")
              ),
               list(targets=2,
                   render = JS(
                     "function(data, type, row, meta) {",
                     "return type === 'display' && data>=10000 ?",
                     "'<span title=\"' + data + '\">'+Math.floor(data/1000)/10+'万</span>' : data;",
                     "}")
              ),
              list(targets=4,
                   render = JS(
                     "function(data, type, row, meta) {",
                     "return type === 'display' ?",
                     "'<span title=\"' + data + '\">' + data.substr(5, 12) + '</span>' : data;",
                     "}")
              ),
              list(targets= 1,
                createdCell=JS(
                  "function (td, cellData, rowData, row, col) {",
                    "$(td).css('padding', '8px 10px 8px 2px')",
                  "}")
              ),
              list(targets= 5,
                createdCell=JS(
                  "function (td, cellData, rowData, row, col) {",
                    "$(td).css('padding', '8px 2px 8px 10px')",
                  "}")
              ),
              list(targets= 2:5,
                createdCell=JS(
                  "function (td, cellData, rowData, row, col) {",
                    "$(td).css('padding', '8px 2px 8px 2px')",
                  "}")
              ),
              list(targets=1:4,
                   class="dt-body-center"),
              list(targets='_all',
                   class="dt-head-center")
          )),
          escape = FALSE,
          colnames = c("标题","时长","观看","弹幕","日期","UP")
          )

css_text <- "
.dt-middle {vertical-align: middle;}
"
css <- htmltools::tags$style(type = "text/css", css_text)
htmlwidgets::prependContent(x, htmltools::tags$head(css))

```


最近更新: `r lastdate` hmmm




Column {data-width=200}
-----------------------------------------------------------------------

